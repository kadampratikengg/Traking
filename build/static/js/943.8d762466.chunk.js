"use strict";(self.webpackChunkpms_client=self.webpackChunkpms_client||[]).push([[943],{1800:function(e,n,r){r.d(n,{Z:function(){return t}});var i=r(3067),s=r(184);function t(e){var n=e.children;e.type;return(0,s.jsx)(i.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}t.defaultProps={type:"scale"}},768:function(e,n,r){r.d(n,{Z:function(){return Z}});var i=r(4554),s=r(1889),t=r(1413),a=r(5987),l=r(7135),o=r(184),c=["children"],d=function(e){var n=e.children,r=(0,a.Z)(e,c);return(0,o.jsx)(l.Z,(0,t.Z)((0,t.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},r),{},{border:!1,boxShadow:!0,shadow:function(e){return e.customShadows.z1},children:(0,o.jsx)(i.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:n})}))},u=r(735),h=r(5193),x=r(9164),m=r(6314),p=function(){var e=(0,h.Z)((function(e){return e.breakpoints.down("sm")}));return(0,o.jsx)(x.Z,{maxWidth:"xl",children:(0,o.jsx)(m.Z,{direction:e?"column":"row",justifyContent:e?"center":"space-between",spacing:2,textAlign:e?"center":"inherit"})})},Z=function(e){var n=e.children;return(0,o.jsx)(i.Z,{sx:{minHeight:"100vh"},children:(0,o.jsxs)(s.ZP,{container:!0,direction:"column",sx:{minHeight:"100vh"},children:[(0,o.jsx)(s.ZP,{item:!0,xs:12,sx:{ml:3,mt:3},children:(0,o.jsx)(u.Z,{})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,children:(0,o.jsx)(s.ZP,{item:!0,xs:12,container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:{xs:"calc(100vh - 134px)",md:"calc(100vh - 112px)"}},children:(0,o.jsx)(s.ZP,{item:!0,children:(0,o.jsx)(d,{children:n})})})}),(0,o.jsx)(s.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,o.jsx)(p,{})})]})})}},2943:function(e,n,r){r.r(n),r.d(n,{default:function(){return B}});var i=r(1087),s=r(1889),t=r(6314),a=r(890),l=r(4165),o=r(5861),c=r(9439),d=r(2791),u=r(9434),h=r(7689),x=r(4925),m=r(9189),p=r(7071),Z=r(3466),f=r(3400),j=r(6151),g=r(8007),v=r(6277),w=r(1800),b=r(4346),P=r(1654),y=r(9169),k=r(4215),S=r(8272),C=r(184),_=function(){var e=(0,h.s0)(),n=(0,u.I0)(),r=d.useState(!1),i=(0,c.Z)(r,2),a=i[0],_=i[1],E=function(){_(!a)},B=function(e){e.preventDefault()};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(v.J9,{initialValues:{email:"",password:"",submit:null},validationSchema:g.Ry().shape({email:g.Z_().email("Must be a valid email").max(255).required("Email is required"),password:g.Z_().max(255).required("Password is required")}),onSubmit:function(){var r=(0,o.Z)((0,l.Z)().mark((function r(i,s){var t,a,o,c,d,u;return(0,l.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=s.setErrors,a=s.setStatus,o=s.setSubmitting,r.prev=1,r.next=4,P.O.login({email:i.email,password:i.password});case 4:(c=r.sent)&&(y.a.success("logged in successfully"),n((0,b.Vx)({name:c.user.name,tfa:c.user.tfa,_id:c.user._id,token:c.token,role:c.user.role})),e("/dashboard")),a({success:!1}),o(!1),r.next=15;break;case 10:r.prev=10,r.t0=r.catch(1),a({success:!1}),t({submit:(null===(d=r.t0.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||"something went wrong"}),o(!1);case 15:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e,n){return r.apply(this,arguments)}}(),children:function(e){var n=e.errors,r=e.handleBlur,i=e.handleChange,l=e.handleSubmit,o=e.isSubmitting,c=e.touched,d=e.values;return(0,C.jsx)("form",{noValidate:!0,onSubmit:l,children:(0,C.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsxs)(t.Z,{spacing:1,children:[(0,C.jsx)(x.Z,{htmlFor:"email-login",children:"Email Address"}),(0,C.jsx)(m.Z,{id:"email-login",type:"email",value:d.email,name:"email",onBlur:r,onChange:i,placeholder:"Enter email address",fullWidth:!0,error:Boolean(c.email&&n.email)}),c.email&&n.email&&(0,C.jsx)(p.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsxs)(t.Z,{spacing:1,children:[(0,C.jsx)(x.Z,{htmlFor:"password-login",children:"Password"}),(0,C.jsx)(m.Z,{fullWidth:!0,error:Boolean(c.password&&n.password),id:"-password-login",type:a?"text":"password",value:d.password,name:"password",onBlur:r,onChange:i,endAdornment:(0,C.jsx)(Z.Z,{position:"end",children:(0,C.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:B,edge:"end",size:"large",children:a?(0,C.jsx)(k.Z,{}):(0,C.jsx)(S.Z,{})})}),placeholder:"Enter password"}),c.password&&n.password&&(0,C.jsx)(p.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:n.password})]})}),n.submit&&(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(p.Z,{error:!0,children:n.submit})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(w.Z,{children:(0,C.jsx)(j.Z,{disableElevation:!0,disabled:o,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Login"})})})]})})}})})},E=r(768),B=function(){return(0,C.jsx)(E.Z,{children:(0,C.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsxs)(t.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[(0,C.jsx)(a.Z,{variant:"h3",children:"Login"}),(0,C.jsx)(a.Z,{component:i.rU,to:"/register",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Don't have an account?"})]})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(_,{})})]})})}},1654:function(e,n,r){r.d(n,{O:function(){return s}});var i=r(5875);var s={register:function(e){return(0,i.v_)("/auth/register",e).then((function(e){return e}))},login:function(e){return(0,i.v_)("/auth/login",e).then((function(e){return e}))}}},9169:function(e,n,r){r.d(n,{a:function(){return s}});var i=r(9655),s={success:function(e){i.Am.success(e)},error:function(e){i.Am.error(e)}}}}]);
//# sourceMappingURL=943.8d762466.chunk.js.map