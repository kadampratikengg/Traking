"use strict";(self.webpackChunkpms_client=self.webpackChunkpms_client||[]).push([[819],{9819:function(e,r,n){n.r(r);var s=n(4165),t=n(5861),o=n(9439),a=n(1413),i=n(2791),u=n(1134),c=n(2901),d=n(9169),l=n(9434),p=n(4346),f=n(5193),m=n(9164),h=n(5527),w=n(1889),x=n(4554),Z=n(890),v=n(8550),g=n(4721),P=n(6151),j=n(7689),y=n(184);r.default=function(e){e.userId,e.handleClose;var r,n=(0,f.Z)((function(e){return e.breakpoints.down("sm")})),b=(0,i.useState)({}),U=(0,o.Z)(b,2),k=(U[0],U[1],(0,l.v9)((function(e){return e.user.user})),(0,l.I0)()),S=(0,j.UO)(),W=(r=(0,u.cI)({mode:"onChange"}),(0,a.Z)((0,a.Z)({},r),{},{register:function(e,n){return(0,a.Z)((0,a.Z)({},r.register(e,n)),{},{InputLabelProps:{shrink:!!r.watch(e)}})}})),q=W.handleSubmit,C=W.register,I=W.formState.errors,A=W.watch,T=(W.control,W.reset,function(){var e=(0,t.Z)((0,s.Z)().mark((function e(r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.W.updatePassword(S.id,r);case 2:e.sent&&(d.a.success("password updated successfully"),k((0,p.Od)()));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(m.Z,{children:(0,y.jsx)(h.Z,{sx:{m:0,px:2,py:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",borderRadius:"6px"},elevation:0,children:(0,y.jsx)(w.ZP,{container:!0,spacing:2,children:(0,y.jsxs)(w.ZP,{item:!0,md:"6",children:[(0,y.jsx)(x.Z,{children:(0,y.jsx)(Z.Z,{variant:"h6",color:"primary",children:"UPDATE PASSWORD"})}),(0,y.jsxs)("form",{style:{marginTop:4},onSubmit:q(T),noValidate:!0,children:[(0,y.jsx)(v.Z,(0,a.Z)((0,a.Z)({sx:{mt:2},variant:"outlined",margin:"dense",fullWidth:!0,name:"oldPassword",label:"old password",type:"password",id:"oldPassword"},C("oldPassword",{required:!0})),{},{size:"small",error:!(null===I||void 0===I||!I.oldPassword),helperText:(null===I||void 0===I?void 0:I.oldPassword)&&"Old password is required"})),(0,y.jsx)(g.Z,{sx:{mt:1}}),(0,y.jsx)(v.Z,(0,a.Z)((0,a.Z)({sx:{mt:2},variant:"outlined",margin:"dense",fullWidth:!0,name:"password",label:"password",type:"password",id:"password"},C("password",{required:"password is required",minLength:{value:8,message:"Password must be at least 8 characters long"},pattern:{value:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).*$/,message:"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"}})),{},{size:"small",error:!(null===I||void 0===I||!I.password),helperText:(null===I||void 0===I?void 0:I.password)&&I.password.message})),(0,y.jsx)(v.Z,(0,a.Z)((0,a.Z)({sx:{mt:2},variant:"outlined",margin:"dense",fullWidth:!0,name:"cpassword",label:"confirm password",type:"password",id:"cpassword"},C("cpassword",{required:"password is required",validate:function(e){return e===A("password")||"Passwords do not match"}})),{},{size:"small",error:!!I.cpassword,helperText:I.cpassword&&I.cpassword.message})),(0,y.jsx)(x.Z,{sx:{display:"flex",justifyContent:"right"},children:(0,y.jsx)(P.Z,{type:"submit",fullWidth:n,variant:"contained",color:"primary",sx:{mt:2},justify:"flex-end",children:"Update"})})]})]})})})})})}},9169:function(e,r,n){n.d(r,{a:function(){return t}});var s=n(9655),t={success:function(e){s.Am.success(e)},error:function(e){s.Am.error(e)}}},2901:function(e,r,n){n.d(r,{W:function(){return o}});var s=n(5875),t=n(9169);var o={addPosition:function(e){return(0,s.v_)("/hire",e).then((function(e){return e})).catch((function(e){return console.log(e)}))},getUsers:function(e){return(0,s.U2)("/user".concat(e?"?search=".concat(e):"")).then((function(e){return e}))},getUser:function(e){return(0,s.U2)("/user/".concat(e)).then((function(e){return e}))},updateUser:function(e,r){return(0,s.r$)("/user/".concat(e),r).then((function(e){return e}))},updateProfile:function(e,r){return(0,s.r$)("/user/profile-picture/".concat(e),r).then((function(e){return e}))},updatePassword:function(e,r){return(0,s.r$)("/user/password/".concat(e),r).then((function(e){return e})).catch((function(e){console.log(e),e.response.data.code<500?t.a.error(e.response.data.message):t.a.error("Something went wrong")}))},removeProfilePicture:function(e){return(0,s.IV)("/user/profile-picture/".concat(e)).then((function(e){return e}))}}}}]);
//# sourceMappingURL=819.2d4c0c9f.chunk.js.map